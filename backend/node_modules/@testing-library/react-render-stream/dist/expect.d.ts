import { RenderStream, Assertable, NextRenderOptions } from '@testing-library/react-render-stream';

interface RenderStreamMatchers<R = void, T = {}> {
    toRerender: T extends RenderStream<any> | Assertable ? (options?: NextRenderOptions) => Promise<R> : {
        error: 'matcher needs to be called on a `takeRender` function, `takeSnapshot` function or `RenderStream` instance';
    };
    toRenderExactlyTimes: T extends RenderStream<any> | Assertable ? (count: number, options?: NextRenderOptions) => Promise<R> : {
        error: 'matcher needs to be called on a `takeRender` function, `takeSnapshot` function or `RenderStream` instance';
    };
}

declare module 'expect' {
    interface Matchers<R extends void | Promise<void>, T = unknown> extends RenderStreamMatchers<R, T> {
    }
}
